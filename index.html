<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A highly complex single-page static website showcasing modern web technologies like Web Components, IndexedDB, Intersection Observer, Canvas, APIs, and advanced CSS.">
    <meta name="author" content="AI Generated Demo">

    <title>Advanced Static Showcase</title>

    <!-- Link to manifest (Create a manifest.json file with the content provided in comments below) -->
    <link rel="manifest" href="manifest.json">
    <!-- Optional: iOS specific meta tags for PWAs -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1a1a1a">

    <!-- ** CSS START ** -->
    <style>
        /* 1. Reset & Global Styles */
        :root {
            /* Color Palette (Light Mode Default) */
            --color-primary: #007bff;
            --color-secondary: #6c757d;
            --color-success: #28a745;
            --color-danger: #dc3545;
            --color-warning: #ffc107;
            --color-info: #17a2b8;
            --color-light: #f8f9fa;
            --color-dark: #343a40;
            --color-text: #212529;
            --color-background: #ffffff;
            --color-border: #dee2e6;
            --color-link: var(--color-primary);
            --color-link-hover: #0056b3;
            --color-shadow: rgba(0, 0, 0, 0.1);
            --color-scrollbar-thumb: #adb5bd;
            --color-scrollbar-thumb-hover: #889097;
            --color-scrollbar-track: var(--color-light);

            /* Typography */
            --font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            --font-size-base: 1rem; /* Typically 16px */
            --line-height-base: 1.6;
             /* Fluid heading sizes using clamp() */
            --h1-font-size: clamp(2rem, 1.625rem + 1.6667vw, 3rem); /* Clamps between 2rem and 3rem */
            --h2-font-size: clamp(1.75rem, 1.4896rem + 1.1111vw, 2.5rem); /* Clamps between 1.75rem and 2.5rem */
            --h3-font-size: clamp(1.3rem, 1.1354rem + 0.7111vw, 1.8rem); /* Clamps between 1.3rem and 1.8rem */

            /* Spacing */
            --spacing-unit: 1rem;

            /* Transitions & Animations */
            --transition-speed: 0.3s;
            --transition-ease: ease-in-out;
            --animation-stagger-delay: 0.1s;
        }

        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            font-size: 100%; /* Base for rem units */
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-family-sans-serif);
            font-size: var(--font-size-base);
            line-height: var(--line-height-base);
            color: var(--color-text);
            background-color: var(--color-background);
            transition: background-color var(--transition-speed) var(--transition-ease), color var(--transition-speed) var(--transition-ease);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden; /* Prevent horizontal scroll */
        }

        /* Custom Scrollbar Styling (Progressive Enhancement) */
        @supports (selector(::-webkit-scrollbar)) {
            body::-webkit-scrollbar {
                width: 10px;
            }
            body::-webkit-scrollbar-track {
                background: var(--color-scrollbar-track);
            }
            body::-webkit-scrollbar-thumb {
                background-color: var(--color-scrollbar-thumb);
                border-radius: 10px;
                border: 2px solid var(--color-scrollbar-track);
            }
             body::-webkit-scrollbar-thumb:hover {
                 background-color: var(--color-scrollbar-thumb-hover);
             }
        }
        /* Firefox Scrollbar (Basic) */
        html {
             scrollbar-width: thin;
             scrollbar-color: var(--color-scrollbar-thumb) var(--color-scrollbar-track);
        }


        #app-container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        main {
            flex-grow: 1;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: calc(var(--spacing-unit) * 1.5);
        }

        /* 2. Utility Classes */
        .container {
            width: 100%;
            max-width: 1140px;
            margin-left: auto;
            margin-right: auto;
            padding-left: var(--spacing-unit);
            padding-right: var(--spacing-unit);
        }

        .text-center { text-align: center; }
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        .button {
            display: inline-block;
            font-weight: 400;
            color: var(--color-light);
            text-align: center;
            vertical-align: middle;
            cursor: pointer;
            user-select: none;
            background-color: var(--color-primary);
            border: 1px solid var(--color-primary);
            padding: 0.5rem 1rem;
            font-size: var(--font-size-base);
            line-height: var(--line-height-base);
            border-radius: 0.25rem;
            transition: color var(--transition-speed) var(--transition-ease), background-color var(--transition-speed) var(--transition-ease), border-color var(--transition-speed) var(--transition-ease), box-shadow var(--transition-speed) var(--transition-ease), transform var(--transition-speed) var(--transition-ease);
            text-decoration: none;
        }
        .button:hover {
            background-color: var(--color-link-hover);
            border-color: var(--color-link-hover);
            color: #fff;
            transform: translateY(-2px); /* Subtle lift */
            box-shadow: 0 4px 8px rgba(var(--rgb-primary), 0.2);
        }
        /* Focus state for keyboard navigation */
        .button:focus-visible {
             outline: 2px solid var(--color-primary);
             outline-offset: 2px;
             box-shadow: 0 0 0 3px rgba(var(--rgb-primary), 0.3);
        }
        .button-secondary {
            background-color: var(--color-secondary);
            border-color: var(--color-secondary);
        }
        .button-secondary:hover {
            background-color: #5a6268;
            border-color: #545b62;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }
         .button-secondary:focus-visible {
             outline-color: var(--color-secondary);
             box-shadow: 0 0 0 3px rgba(108, 117, 125, 0.3);
         }
        .card {
            background-color: var(--color-background);
            border: 1px solid var(--color-border);
            border-radius: 0.3rem;
            box-shadow: 0 2px 5px var(--color-shadow);
            margin-bottom: var(--spacing-unit);
            padding: calc(var(--spacing-unit) * 1.25);
            transition: background-color var(--transition-speed) var(--transition-ease), border-color var(--transition-speed) var(--transition-ease), transform 0.2s ease-out, box-shadow 0.2s ease-out;
        }
        .card:hover {
             transform: translateY(-3px);
             box-shadow: 0 6px 12px var(--color-shadow);
        }

        /* 3. Header & Navigation */
        .app-header {
            background-color: var(--color-background);
            padding: var(--spacing-unit) 0;
            box-shadow: 0 2px 4px var(--color-shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: background-color var(--transition-speed) var(--transition-ease);
        }
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        .logo {
            font-size: 1.75rem;
            font-weight: bold;
            color: var(--color-primary);
            text-decoration: none;
            margin-right: var(--spacing-unit);
            transition: transform 0.2s ease-out;
        }
        .logo:hover {
            transform: scale(1.03);
        }
        .logo .icon {
            width: 30px;
            height: 30px;
            vertical-align: middle;
            margin-right: 5px;
            fill: currentColor;
        }
        .main-nav ul {
            list-style: none;
            display: flex;
            gap: calc(var(--spacing-unit) * 1.5);
            margin: 0;
            padding: 0;
            flex-wrap: wrap;
        }
        .main-nav a {
            text-decoration: none;
            color: var(--color-text);
            font-weight: 500;
            padding: 0.5rem 0;
            position: relative;
            transition: color var(--transition-speed) var(--transition-ease);
        }
        .main-nav a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%); /* Center the initial line */
            background-color: var(--color-primary);
            transition: width var(--transition-speed) var(--transition-ease);
        }
        .main-nav a:hover, .main-nav a.active { color: var(--color-primary); }
        .main-nav a:hover::after, .main-nav a.active::after { width: 100%; }
        .main-nav a:focus-visible { /* Better focus for nav links */
             outline: 1px dashed var(--color-primary);
             outline-offset: 4px;
             border-radius: 2px; /* Optional rounding */
        }

        .theme-switcher { margin-left: var(--spacing-unit); }
        .theme-toggle-button {
            background: none; border: none; cursor: pointer; padding: 5px; display: flex; align-items: center; justify-content: center; color: var(--color-text); border-radius: 50%;
        }
        .theme-toggle-button svg { width: 24px; height: 24px; fill: currentColor; transition: transform var(--transition-speed) ease-in-out; }
        .theme-toggle-button:hover svg { transform: rotate(15deg) scale(1.1); }
        .theme-toggle-button:focus-visible { /* Better focus for theme toggle */
             outline: 2px solid var(--color-secondary);
             outline-offset: 2px;
        }
        body[data-theme="light"] .moon-icon { display: none; }
        body[data-theme="dark"] .sun-icon { display: none; }

        /* 4. Main Content Sections & Animations */
        main > section {
            padding: calc(var(--spacing-unit) * 2) 0;
            border-bottom: 1px solid var(--color-border);
            display: none; /* Hidden by default */
        }
        main > section.active {
            display: block; /* Shown by JS router */
             /* Initial state for router animation */
            opacity: 0;
            animation: routerFadeIn 0.5s ease-out forwards;
        }
        main > section:last-child { border-bottom: none; }

        @keyframes routerFadeIn { /* Specific animation for router changes */
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Intersection Observer Animation Styles */
        .animate-on-scroll {
             opacity: 0;
             transform: translateY(30px);
             transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .animate-on-scroll.is-visible {
             opacity: 1;
             transform: translateY(0);
        }
        /* Apply base animation state to elements we want to observe */
        main > section > h2, main > section > p, main > section > ul,
        main > section > form, main > section > div:not(.projects-grid):not(.api-data):not(#canvas-container),
        .project-card-wrapper { /* Apply to the wrapper for grid items */
             opacity: 0;
             transform: translateY(20px);
             transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .project-card-wrapper {
            /* Base styles for grid item wrapper - necessary for observing */
             display: block; /* Or inline-block, flex, etc., depending on grid */
        }

        main > section.is-visible > h2, main > section.is-visible > p, main > section.is-visible > ul,
        main > section.is-visible > form, main > section.is-visible > div:not(.projects-grid):not(.api-data):not(#canvas-container),
        .project-card-wrapper.is-visible {
             opacity: 1;
             transform: translateY(0);
        }
        /* Stagger grid item animations */
        .projects-grid .project-card-wrapper {
            transition-delay: calc(var(--card-index) * var(--animation-stagger-delay));
        }


        h1, h2, h3 {
            color: var(--color-dark);
            margin-bottom: var(--spacing-unit);
            line-height: 1.3;
            transition: color var(--transition-speed) var(--transition-ease);
        }
        /* Use clamp for fluid sizing */
        h1 { font-size: var(--h1-font-size); }
        h2 { font-size: var(--h2-font-size); }
        h3 { font-size: var(--h3-font-size); }

        p { margin-bottom: var(--spacing-unit); }
        a { color: var(--color-link); text-decoration: none; transition: color var(--transition-speed) var(--transition-ease); }
        a:hover { color: var(--color-link-hover); text-decoration: underline; }
         a:focus-visible {
             outline: 1px dashed var(--color-link);
             outline-offset: 2px;
             border-radius: 2px;
         }

        /* Specific Section Styles */
        #home h1 { animation: textPopIn 1s ease-out 0.3s forwards; opacity: 0; } /* Added delay */
        @keyframes textPopIn { /* Same as before */
            0% { opacity: 0; transform: scale(0.8) translateY(30px); }
            80% { opacity: 1; transform: scale(1.05) translateY(-5px); }
            100% { opacity: 1; transform: scale(1) translateY(0); }
        }

        /* Projects Section */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: calc(var(--spacing-unit) * 1.5);
            margin-top: calc(var(--spacing-unit) * 1.5);
        }
        /* Styles for the Web Component <project-card> */
        project-card .card { /* Target the inner card if structure allows */
            display: flex;
            flex-direction: column;
            height: 100%; /* Make cards in a row equal height */
        }
        project-card h3 { margin-bottom: 0.5rem; font-size: 1.2rem; }
        project-card p { flex-grow: 1; margin-bottom: 1rem; font-size: 0.95rem; color: var(--color-secondary); }
        project-card .repo-meta { font-size: 0.85rem; color: var(--color-secondary); margin-bottom: 1rem; }
        project-card a.button { margin-top: auto; /* Push link to bottom */ }

        .loading-indicator, .error-indicator {
            grid-column: 1 / -1; /* Span full grid width */
            text-align: center; padding: 2rem; font-style: italic; color: var(--color-secondary);
        }
        .error-indicator { color: var(--color-danger); font-weight: bold; }

        /* API Demo Section */
        #api-demo .api-data {
            background-color: var(--color-light); border: 1px dashed var(--color-border); padding: var(--spacing-unit); margin-top: var(--spacing-unit); border-radius: 4px; font-family: var(--font-family-monospace); font-size: 0.9rem; word-break: break-all; transition: background-color var(--transition-speed) var(--transition-ease), border-color var(--transition-speed) var(--transition-ease); max-height: 400px; overflow-y: auto;
        }

        /* Canvas Demo Section */
        #canvas-container {
            position: relative; width: 100%; max-width: 600px; height: 300px; margin: var(--spacing-unit) auto; border: 1px solid var(--color-border); background: linear-gradient(45deg, rgba(var(--rgb-primary), 0.05), rgba(var(--rgb-info), 0.05)); overflow: hidden; border-radius: 4px; transition: border-color var(--transition-speed) var(--transition-ease); cursor: crosshair; /* Indicate interactivity */
        }
        #demoCanvas { display: block; width: 100%; height: 100%; }

        /* Contact Form */
        .contact-form label { display: block; margin-bottom: 0.5rem; font-weight: 500; }
        .contact-form input[type="text"], .contact-form input[type="email"], .contact-form textarea {
            display: block; width: 100%; padding: 0.75rem; font-size: var(--font-size-base); line-height: var(--line-height-base); color: var(--color-text); background-color: var(--color-background); background-clip: padding-box; border: 1px solid var(--color-border); border-radius: 0.25rem; margin-bottom: var(--spacing-unit); transition: border-color var(--transition-speed) var(--transition-ease), box-shadow var(--transition-speed) var(--transition-ease), background-color var(--transition-speed) var(--transition-ease), color var(--transition-speed) var(--transition-ease);
        }
        .contact-form input:focus-visible, .contact-form textarea:focus-visible {
            border-color: var(--color-primary); outline: 0; box-shadow: 0 0 0 0.2rem rgba(var(--rgb-primary), 0.25);
        }
        .contact-form textarea { min-height: 120px; resize: vertical; }
        .contact-form .form-status { margin-top: var(--spacing-unit); font-style: italic; color: var(--color-success); font-weight: 500; }
        .contact-form .form-status.error { color: var(--color-danger); }

        /* 5. Footer */
        .app-footer {
            background-color: var(--color-dark); color: var(--color-light); padding: calc(var(--spacing-unit) * 1.5) 0; margin-top: calc(var(--spacing-unit) * 2); text-align: center; font-size: 0.9rem; transition: background-color var(--transition-speed) var(--transition-ease), color var(--transition-speed) var(--transition-ease);
        }
        .app-footer a { color: var(--color-warning); }
        .app-footer a:hover { color: var(--color-light); }

        /* 6. Dark Mode Theme */
        body[data-theme="dark"] {
            --color-primary: #3391ff;
            --color-secondary: #8a939b;
            --color-light: #2c3034;
            --color-dark: #e9ecef;
            --color-text: #f8f9fa;
            --color-background: #1a1a1a;
            --color-border: #444;
            --color-link: var(--color-primary);
            --color-link-hover: #66afff;
            --color-shadow: rgba(255, 255, 255, 0.08);
            --color-scrollbar-thumb: #555;
            --color-scrollbar-thumb-hover: #777;
            --color-scrollbar-track: #2a2a2a;
        }
        body[data-theme="dark"] h1, body[data-theme="dark"] h2, body[data-theme="dark"] h3 { color: var(--color-dark); }
        body[data-theme="dark"] .card { background-color: #252525; }
        body[data-theme="dark"] .app-footer { background-color: #000; }
        body[data-theme="dark"] .contact-form input, body[data-theme="dark"] .contact-form textarea { background-color: #333; color: var(--color-text); border-color: #555; }
        body[data-theme="dark"] .contact-form input:focus-visible, body[data-theme="dark"] .contact-form textarea:focus-visible { border-color: var(--color-primary); box-shadow: 0 0 0 0.2rem rgba(var(--rgb-primary), 0.35); background-color: #383838; }
        body[data-theme="dark"] #api-demo .api-data { background-color: #2a2a2a; border-color: #555; }
        /* Re-declare RGB vars for dark mode */
        body[data-theme="dark"] { --rgb-primary: 51, 145, 255; --rgb-info: 23, 162, 184; }


        /* 7. Animations & Transitions */
        @keyframes pulse { /* Same as before */
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(var(--rgb-primary), 0.7); }
            70% { transform: scale(1.05); box-shadow: 0 0 10px 15px rgba(var(--rgb-primary), 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(var(--rgb-primary), 0); }
        }
        .pulse-button { animation: pulse 1.5s infinite; }

        /* Reduced Motion Preference */
        @media (prefers-reduced-motion: reduce) {
            html { scroll-behavior: auto; }
            *, *::before, *::after { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; scroll-behavior: auto !important; }
            #home h1 { animation: none; }
            .pulse-button { animation: none; }
             /* Disable Intersection Observer animations */
            .animate-on-scroll, main > section > h2, main > section > p, main > section > ul, main > section > form, main > section > div:not(.projects-grid):not(.api-data):not(#canvas-container), .project-card-wrapper {
                 opacity: 1 !important;
                 transform: none !important;
                 transition: none !important;
                 animation: none !important;
            }
            main > section.active { animation: none; opacity: 1; transform: none; } /* Router animation */
            #demoCanvas { display: none; }
            #canvas-container::after { content: "Canvas animation disabled due to reduced motion preference."; display: flex; align-items: center; justify-content: center; height: 100%; color: var(--color-secondary); font-style: italic; }
        }

        /* 8. Responsive Design (Mostly same as before) */
        @media (max-width: 992px) { /* Heading sizes adjusted via clamp() */ }
        @media (max-width: 768px) {
            .header-content { flex-direction: column; align-items: flex-start; }
            .main-nav ul { margin-top: var(--spacing-unit); gap: var(--spacing-unit); justify-content: center; width: 100%; }
            .theme-switcher { position: absolute; top: calc(var(--spacing-unit) * 1.25); right: var(--spacing-unit); margin-left: 0; }
            .projects-grid { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
        }
        @media (max-width: 576px) {
            body { font-size: 0.95rem; }
            main { padding: var(--spacing-unit); }
            .container { padding-left: 0.5rem; padding-right: 0.5rem; }
            .button { padding: 0.4rem 0.8rem; font-size: 0.9rem; }
            .main-nav ul { gap: 0.8rem; font-size: 0.95rem; }
             .theme-switcher { top: calc(var(--spacing-unit) * 1.1); }
        }

    </style>
    <!-- ** CSS END ** -->
</head>
<body data-theme="light"> <!-- Default theme -->

    <div id="app-container">

        <header class="app-header">
            <div class="container header-content">
                <a href="#home" class="logo">
                     <svg class="icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M50,5 L95,27 L95,73 L50,95 L5,73 L5,27 Z M50,15 L15,32 V68 L50,85 V15 Z M85,32 L50,48 V85 L85,67 V32 Z M50,48 L15,32 L50,15 L85,32 L50,48 Z"/></svg>
                    Advanced Static
                </a>
                <nav class="main-nav" aria-label="Main Navigation">
                     <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#projects">Projects</a></li>
                        <li><a href="#api-demo">API Demo</a></li>
                        <li><a href="#canvas-demo">Canvas</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </nav>
                <div class="theme-switcher">
                    <button class="theme-toggle-button" id="theme-toggle" title="Toggle theme" aria-label="Toggle light/dark theme">
                        <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.166 7.758a.75.75 0 001.06 1.06l1.591-1.59a.75.75 0 00-1.06-1.061L6.166 7.758z"/></svg>
                        <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.98 10.503 10.503 0 01-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-3.51 1.713-6.63 4.362-8.472a.75.75 0 01.819.162z" clip-rule="evenodd"/></svg>
                    </button>
                </div>
            </div>
        </header>

        <main id="main-content">
            <section id="home" data-route="home" class="active animate-on-scroll">
                <h1>Welcome to the Advanced Static Showcase!</h1>
                <p class="animate-on-scroll">This enhanced page pushes the boundaries of static web capabilities.</p>
                <p class="animate-on-scroll">Explore features like Web Components, IndexedDB caching, Intersection Observer animations, and more.</p>
                <div class="animate-on-scroll">
                     <button class="button pulse-button" id="pulse-demo-button">Pulse Button</button>
                </div>
            </section>

            <section id="about" data-route="about" class="animate-on-scroll">
                <h2>About This Demo</h2>
                <p class="animate-on-scroll">Building upon the previous version, this demo incorporates:</p>
                <ul class="animate-on-scroll">
                    <li><strong>Web Components:</strong> Reusable `<project-card>` element.</li>
                    <li><strong>IndexedDB Caching:</strong> GitHub repo data is cached locally.</li>
                    <li><strong>Intersection Observer:</strong> Elements animate as they enter the viewport.</li>
                    <li><strong>Enhanced Canvas:</strong> Particles now react to mouse movement.</li>
                    <li><strong>Modern CSS:</strong> Fluid typography with `clamp()`, custom scrollbars.</li>
                    <li><strong>Intl API:</strong> Locale-aware date formatting.</li>
                    <li>(Existing features like Routing, Theming, API Fetching, etc., remain)</li>
                </ul>
            </section>

            <section id="projects" data-route="projects" class="animate-on-scroll">
                <h2>Projects Showcase (with Caching)</h2>
                <p class="animate-on-scroll">Fetching repository data from GitHub API, now with IndexedDB caching (cache lasts 1 hour).</p>
                 <div class="animate-on-scroll" style="margin-bottom: var(--spacing-unit);">
                    <label for="github-username">GitHub Username:</label>
                    <input type="text" id="github-username" value="octocat" style="max-width: 200px; display: inline-block; margin-right: 10px;">
                    <button class="button button-secondary" id="fetch-repos-button">Fetch Repos</button>
                    <button class="button button-danger button-small" id="clear-cache-button" title="Clear repo cache" style="margin-left: 10px; padding: 0.4rem 0.8rem; font-size: 0.85rem;">Clear Cache</button>
                 </div>
                <div class="projects-grid" id="projects-grid-container">
                    <div class="loading-indicator">Enter a GitHub username and click "Fetch Repos".</div>
                    <!-- <project-card> components will be inserted here -->
                </div>
            </section>

            <section id="api-demo" data-route="api-demo" class="animate-on-scroll">
                <h2>Public API Demo</h2>
                <p class="animate-on-scroll">Fetching data from JSON Placeholder API.</p>
                <div class="animate-on-scroll">
                    <button class="button" id="fetch-api-button">Fetch Random User Data</button>
                </div>
                <div class="api-data animate-on-scroll" id="api-data-container">
                    Click the button to fetch data...
                </div>
            </section>

            <section id="canvas-demo" data-route="canvas-demo" class="animate-on-scroll">
                 <h2>Interactive Canvas Demo</h2>
                 <p class="animate-on-scroll">Particles now react to your mouse cursor!</p>
                 <div id="canvas-container" class="animate-on-scroll">
                    <canvas id="demoCanvas"></canvas>
                 </div>
                 <p class="text-center animate-on-scroll"><small>(Animation might be disabled if 'prefers-reduced-motion' is enabled)</small></p>
            </section>

            <section id="contact" data-route="contact" class="animate-on-scroll">
                <h2>Contact Form (Demo)</h2>
                <p class="animate-on-scroll">Client-side form interaction example.</p>
                <form id="contact-form" class="contact-form animate-on-scroll">
                    <div>
                        <label for="name">Name:</label>
                        <input type="text" id="name" name="name" required>
                    </div>
                    <div>
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div>
                        <label for="message">Message:</label>
                        <textarea id="message" name="message" required></textarea>
                    </div>
                    <button type="submit" class="button">Send Message (Demo)</button>
                    <div class="form-status" id="form-status" aria-live="polite"></div> {/* Added aria-live */}
                </form>
            </section>

        </main>

        <footer class="app-footer">
            <div class="container">
                <p>© <span id="current-year"></span> Advanced Static Showcase. Pushing the limits of static!</p>
                <p>View source to see Web Components, IndexedDB, Intersection Observer, and more.</p>
            </div>
        </footer>
    </div> <!-- End #app-container -->

    <!-- ** JAVASCRIPT START ** -->
    <script>
        // Wrap in IIFE
        (function() {
            'use strict';

            // --- CONFIGURATION ---
            const GITHUB_API_BASE = 'https://api.github.com';
            const PLACEHOLDER_API = 'https://jsonplaceholder.typicode.com/users/';
            const DB_NAME = 'StaticShowcaseDB';
            const DB_VERSION = 1;
            const REPO_STORE_NAME = 'githubRepos';
            const REPO_CACHE_DURATION_MS = 60 * 60 * 1000; // 1 hour cache

            // --- DOM Elements ---
            const mainContent = document.getElementById('main-content');
            const navLinks = document.querySelectorAll('.main-nav a');
            const themeToggleButton = document.getElementById('theme-toggle');
            const body = document.body;
            const currentYearSpan = document.getElementById('current-year');
            const fetchReposButton = document.getElementById('fetch-repos-button');
            const githubUsernameInput = document.getElementById('github-username');
            const projectsGridContainer = document.getElementById('projects-grid-container');
            const clearCacheButton = document.getElementById('clear-cache-button');
            const fetchApiButton = document.getElementById('fetch-api-button');
            const apiDataContainer = document.getElementById('api-data-container');
            const contactForm = document.getElementById('contact-form');
            const formStatus = document.getElementById('form-status');
            const pulseButton = document.getElementById('pulse-demo-button');
            const canvas = document.getElementById('demoCanvas');
            const canvasContainer = document.getElementById('canvas-container');
            let ctx = null;
            let particles = [];
            let animationFrameId = null;
            let mouse = { x: null, y: null, radius: 80 }; // Mouse interaction for canvas

            // --- UTILITIES ---
            // Debounce function
            function debounce(func, wait) {
                let timeout;
                return function executedFunction(...args) {
                    const later = () => {
                        clearTimeout(timeout);
                        func(...args);
                    };
                    clearTimeout(timeout);
                    timeout = setTimeout(later, wait);
                };
            }

            // --- IndexedDB ---
            let dbPromise = null;

            function openDb() {
                if (!dbPromise) {
                    dbPromise = new Promise((resolve, reject) => {
                        if (!window.indexedDB) {
                            console.warn("IndexedDB not supported.");
                            return reject("IndexedDB not supported");
                        }
                        const request = indexedDB.open(DB_NAME, DB_VERSION);

                        request.onerror = (event) => {
                            console.error("IndexedDB error:", event.target.error);
                            reject("IndexedDB error: " + event.target.error);
                        };

                        request.onsuccess = (event) => {
                            console.log("IndexedDB opened successfully.");
                            resolve(event.target.result);
                        };

                        request.onupgradeneeded = (event) => {
                            console.log("Upgrading IndexedDB...");
                            const db = event.target.result;
                            if (!db.objectStoreNames.contains(REPO_STORE_NAME)) {
                                const store = db.createObjectStore(REPO_STORE_NAME, { keyPath: 'username' });
                                store.createIndex('timestamp', 'timestamp', { unique: false });
                                console.log(`Object store '${REPO_STORE_NAME}' created.`);
                            }
                        };
                    });
                }
                return dbPromise;
            }

            async function saveReposToDb(username, repos) {
                try {
                    const db = await openDb();
                    const tx = db.transaction(REPO_STORE_NAME, 'readwrite');
                    const store = tx.objectStore(REPO_STORE_NAME);
                    await store.put({ username: username.toLowerCase(), repos: repos, timestamp: Date.now() });
                    await tx.done; // Use tx.done for Dexie-like promise completion
                    console.log(`Repos for ${username} saved to IndexedDB.`);
                } catch (error) {
                    console.error(`Error saving repos for ${username} to IndexedDB:`, error);
                }
            }

            async function getReposFromDb(username) {
                try {
                    const db = await openDb();
                    const tx = db.transaction(REPO_STORE_NAME, 'readonly');
                    const store = tx.objectStore(REPO_STORE_NAME);
                    const result = await store.get(username.toLowerCase());
                    await tx.done;

                    if (result && (Date.now() - result.timestamp < REPO_CACHE_DURATION_MS)) {
                        console.log(`Cache hit for ${username}.`);
                        return result.repos;
                    } else if (result) {
                        console.log(`Cache expired for ${username}.`);
                    } else {
                        console.log(`Cache miss for ${username}.`);
                    }
                } catch (error) {
                    console.error(`Error getting repos for ${username} from IndexedDB:`, error);
                }
                return null; // Return null if not found, expired, or error
            }

            async function clearRepoCache() {
                try {
                    const db = await openDb();
                    const tx = db.transaction(REPO_STORE_NAME, 'readwrite');
                    const store = tx.objectStore(REPO_STORE_NAME);
                    await store.clear();
                    await tx.done;
                    console.log("Repo cache cleared from IndexedDB.");
                    // Optionally provide user feedback
                    alert("GitHub repository cache cleared!");
                     // Clear the current display too
                    if(projectsGridContainer) projectsGridContainer.innerHTML = '<div class="loading-indicator">Cache cleared. Enter username and fetch.</div>';
                } catch (error) {
                    console.error("Error clearing repo cache:", error);
                     alert("Error clearing cache. Check console.");
                }
            }


            // --- WEB COMPONENT: Project Card ---
            class ProjectCard extends HTMLElement {
                constructor() {
                    super();
                    // Basic structure - Shadow DOM could be used for true encapsulation,
                    // but makes styling from global CSS harder without adopting ::part etc.
                    // Sticking to light DOM for simplicity in this single file.
                }

                connectedCallback() {
                    this.render();
                }

                static get observedAttributes() {
                    return ['repo-name', 'description', 'url', 'updated-at'];
                }

                attributeChangedCallback(name, oldValue, newValue) {
                    this.render(); // Re-render on attribute change
                }

                render() {
                    const name = this.getAttribute('repo-name') || 'No Name';
                    const description = this.getAttribute('description') || 'No description.';
                    const url = this.getAttribute('url') || '#';
                    const updatedAt = this.getAttribute('updated-at');

                    let formattedDate = 'N/A';
                    if (updatedAt && typeof Intl !== 'undefined' && Intl.DateTimeFormat) {
                        try {
                           formattedDate = new Intl.DateTimeFormat(navigator.language || 'en-US', {
                                year: 'numeric', month: 'short', day: 'numeric',
                                // hour: 'numeric', minute: '2-digit' // Optional time
                            }).format(new Date(updatedAt));
                        } catch (e) {
                            console.warn("Could not format date:", updatedAt, e);
                            formattedDate = new Date(updatedAt).toLocaleDateString(); // Fallback
                        }
                    } else if (updatedAt) {
                         formattedDate = new Date(updatedAt).toLocaleDateString(); // Basic fallback
                    }


                    this.innerHTML = `
                        <div class="card">
                            <h3>${name}</h3>
                            <p>${description}</p>
                            <p class="repo-meta">Last updated: <time datetime="${updatedAt || ''}">${formattedDate}</time></p>
                            <a href="${url}" target="_blank" rel="noopener noreferrer" class="button button-secondary button-small">View on GitHub</a>
                        </div>
                    `;
                }
            }
            // Only define if not already defined (useful for hot reloading scenarios, less so here)
            if (!customElements.get('project-card')) {
                customElements.define('project-card', ProjectCard);
            }


            // --- THEME HANDLING (Same as before) ---
            const LOCAL_STORAGE_THEME_KEY = 'staticShowcaseTheme';
            function applyTheme(theme) { /* ... same ... */ body.setAttribute('data-theme', theme); localStorage.setItem(LOCAL_STORAGE_THEME_KEY, theme); }
            function toggleTheme() { /* ... same ... */ const currentTheme = body.getAttribute('data-theme') || 'light'; applyTheme(currentTheme === 'light' ? 'dark' : 'light'); }
            function loadSavedTheme() { /* ... same ... */ const savedTheme = localStorage.getItem(LOCAL_STORAGE_THEME_KEY); const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches; if (savedTheme) { applyTheme(savedTheme); } else if (prefersDark) { applyTheme('dark'); } else { applyTheme('light'); } }

            // --- ROUTING (Minor adjustments for canvas interaction) ---
            function handleRouteChange() { /* ... same core logic ... */
                const hash = window.location.hash || '#home';
                const route = hash.substring(1);
                mainContent.querySelectorAll('section').forEach(section => section.classList.remove('active'));
                const targetSection = mainContent.querySelector(`section[data-route="${route}"]`);

                if (targetSection) {
                    targetSection.classList.add('active');
                    updateNavActiveState(hash);
                    window.scrollTo({ top: 0, behavior: 'auto' });

                    // Canvas animation control
                    if (route !== 'canvas-demo' && animationFrameId) {
                        cancelAnimationFrame(animationFrameId); animationFrameId = null; console.log('Canvas stopped.');
                    }
                    if (route === 'canvas-demo' && !animationFrameId && supportsCanvas()) {
                         initCanvas(); // Starts animation loop inside
                    }
                } else { /* ... fallback to home ... */
                    const homeSection = mainContent.querySelector(`section[data-route="home"]`);
                    if (homeSection) homeSection.classList.add('active');
                    updateNavActiveState('#home');
                    window.location.hash = '#home';
                     if (animationFrameId) { cancelAnimationFrame(animationFrameId); animationFrameId = null; } // Stop canvas if routing to home fallback
                }
            }
            function updateNavActiveState(activeHash) { /* ... same ... */ navLinks.forEach(link => { if (link.getAttribute('href') === activeHash) { link.classList.add('active'); link.setAttribute('aria-current', 'page'); } else { link.classList.remove('active'); link.removeAttribute('aria-current'); } }); }

            // --- API Fetching (Updated with Caching) ---
            async function fetchGitHubRepos(username) {
                projectsGridContainer.innerHTML = '<div class="loading-indicator">Checking cache...</div>';
                const cachedRepos = await getReposFromDb(username);

                if (cachedRepos) {
                    displayRepos(cachedRepos, true); // Indicate it's from cache
                    return;
                }

                projectsGridContainer.innerHTML = '<div class="loading-indicator">Fetching from GitHub API...</div>';
                try {
                    const response = await fetch(`${GITHUB_API_BASE}/users/${username}/repos?sort=updated&per_page=9`); // Fetch 9 for better grid layout
                    if (!response.ok) {
                        // Improved error handling
                        let errorMsg = `GitHub API Error: ${response.status} ${response.statusText}`;
                        try { // Try to parse specific error message from GitHub
                            const errorData = await response.json();
                            if (errorData.message) errorMsg += ` - ${errorData.message}`;
                        } catch (e) { /* Ignore if error body isn't JSON */ }
                        throw new Error(errorMsg);
                    }
                    const repos = await response.json();
                    await saveReposToDb(username, repos); // Save fresh data to cache
                    displayRepos(repos, false);
                } catch (error) {
                    console.error("Failed to fetch GitHub repos:", error);
                    projectsGridContainer.innerHTML = `<div class="error-indicator">Failed to load repositories: ${error.message}</div>`;
                }
            }

            function displayRepos(repos, fromCache = false) {
                if (!repos || repos.length === 0) {
                     projectsGridContainer.innerHTML = '<div class="loading-indicator">No public repositories found for this user.</div>';
                     return;
                }
                projectsGridContainer.innerHTML = ''; // Clear
                 if (fromCache) {
                    const cacheMsg = document.createElement('div');
                    cacheMsg.textContent = '(Loaded from cache)';
                    cacheMsg.style.fontSize = '0.8em';
                    cacheMsg.style.color = 'var(--color-secondary)';
                    cacheMsg.style.textAlign = 'center';
                    cacheMsg.style.width = '100%';
                     cacheMsg.style.gridColumn = '1 / -1'; // Span grid
                    projectsGridContainer.appendChild(cacheMsg);
                 }

                repos.forEach((repo, index) => {
                    // Wrap the web component in a div for the observer
                    const cardWrapper = document.createElement('div');
                    cardWrapper.className = 'project-card-wrapper animate-on-scroll'; // Class for observer
                    cardWrapper.style.setProperty('--card-index', index); // For staggering

                    const card = document.createElement('project-card');
                    card.setAttribute('repo-name', repo.name);
                    card.setAttribute('description', repo.description || '');
                    card.setAttribute('url', repo.html_url);
                    card.setAttribute('updated-at', repo.updated_at);
                    // Add more attributes like language, stars if needed
                    // card.setAttribute('language', repo.language || 'N/A');
                    // card.setAttribute('stars', repo.stargazers_count);

                    cardWrapper.appendChild(card);
                    projectsGridContainer.appendChild(cardWrapper);
                });
                // Re-observe newly added elements if observer is active
                observeElements(projectsGridContainer.querySelectorAll('.animate-on-scroll'));
            }

            async function fetchPlaceholderData() { /* ... same ... */
                 apiDataContainer.textContent = 'Fetching data...';
                 const randomUserId = Math.floor(Math.random() * 10) + 1;
                try {
                    const response = await fetch(PLACEHOLDER_API + randomUserId);
                    if (!response.ok) throw new Error(`API Error: ${response.status}`);
                    const data = await response.json();
                    apiDataContainer.textContent = JSON.stringify(data, null, 2);
                } catch (error) { console.error("Failed fetch:", error); apiDataContainer.textContent = `Error: ${error.message}`; }
             }

            // --- FORM HANDLING (Added aria-live feedback) ---
            function handleContactFormSubmit(event) { /* ... same core logic ... */
                event.preventDefault();
                const formData = new FormData(contactForm);
                const name = formData.get('name');
                console.log("Form Submitted (Demo):", Object.fromEntries(formData));
                formStatus.textContent = `Demo: Thank you, ${name}! Message logged to console.`;
                 formStatus.className = 'form-status'; // Reset class
                contactForm.reset();
                setTimeout(() => { formStatus.textContent = ''; }, 5000);
             }

            // --- WEB ANIMATIONS API EXAMPLE (Same) ---
            function animatePulseButton() { /* ... same ... */ if (typeof pulseButton.animate === 'function') { pulseButton.animate([ { transform: 'scale(1)', opacity: 1 }, { transform: 'scale(1.05)', opacity: 0.8 }, { transform: 'scale(1)', opacity: 1 } ], { duration: 1000, iterations: 1, easing: 'ease-in-out' }); } }

             // --- CANVAS ANIMATION (Updated with Mouse Interaction) ---
             function supportsCanvas() { /* ... same ... */ return !!(canvas && canvas.getContext); }
             function initCanvas() { /* ... same setup ... */
                  if (!supportsCanvas()) { console.error("Canvas not supported."); if(canvasContainer) canvasContainer.innerHTML = "<p class='text-center error'>Canvas is not supported.</p>"; return; }
                 ctx = canvas.getContext('2d');
                 resizeCanvas(); // Initial size
                 createParticles();
                 if (!animationFrameId) { animateParticles(); console.log('Canvas started.'); }
                  // Add mouse listener only when initializing
                  canvasContainer.addEventListener('mousemove', handleCanvasMouseMove);
                  canvasContainer.addEventListener('mouseleave', () => {
                       mouse.x = null; mouse.y = null; // Reset mouse pos when leaving canvas
                  });
             }
             // Use debounced resize handler
             const debouncedResizeCanvas = debounce(() => {
                 if (!canvas || !canvasContainer || window.location.hash !== '#canvas-demo') return; // Only resize if visible
                 resizeCanvas();
                 createParticles(); // Recreate particles for new size? Optional.
                 console.log('Canvas resized');
             }, 250); // Debounce by 250ms

             function resizeCanvas() { /* ... same internal logic ... */
                 if (!canvas || !canvasContainer) return;
                 canvas.width = canvasContainer.clientWidth;
                 canvas.height = canvasContainer.clientHeight;
             }
             function createParticles() { /* ... same ... */ particles = []; const particleCount = Math.min(Math.floor(canvas.width / 15), 70); for (let i = 0; i < particleCount; i++) { particles.push({ x: Math.random() * canvas.width, y: Math.random() * canvas.height, vx: (Math.random() - 0.5) * 1.5, vy: (Math.random() - 0.5) * 1.5, radius: Math.random() * 2 + 1, color: `rgba(${Math.random() > 0.5 ? '0, 123, 255' : '23, 162, 184'}, ${Math.random() * 0.5 + 0.3})` }); } }

             function handleCanvasMouseMove(event) {
                 const rect = canvas.getBoundingClientRect();
                 mouse.x = event.clientX - rect.left;
                 mouse.y = event.clientY - rect.top;
             }

             function animateParticles() { /* ... same setup & reduced motion check ... */
                 if (!ctx) return;
                 const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
                 if (prefersReducedMotion) { /* ... same handling ... */ ctx.clearRect(0, 0, canvas.width, canvas.height); ctx.fillStyle = getComputedStyle(body).getPropertyValue('--color-secondary').trim() || '#6c757d'; ctx.font = 'italic 14px ' + getComputedStyle(body).getPropertyValue('--font-family-sans-serif').trim(); ctx.textAlign = 'center'; ctx.fillText("Canvas animation disabled", canvas.width / 2, canvas.height / 2); animationFrameId = null; return; }

                 ctx.clearRect(0, 0, canvas.width, canvas.height);
                 particles.forEach(p => {
                     // Mouse interaction - push away
                     if (mouse.x !== null && mouse.y !== null) {
                         const dx = p.x - mouse.x;
                         const dy = p.y - mouse.y;
                         const distance = Math.sqrt(dx * dx + dy * dy);
                         if (distance < mouse.radius) {
                             const forceDirectionX = dx / distance;
                             const forceDirectionY = dy / distance;
                             const maxForce = 2; // Max push strength
                             const force = (mouse.radius - distance) / mouse.radius * maxForce;
                             p.vx += forceDirectionX * force * 0.1; // Apply small force
                             p.vy += forceDirectionY * force * 0.1;
                         }
                     }
                     // Apply some friction/damping
                     p.vx *= 0.98;
                     p.vy *= 0.98;

                     p.x += p.vx;
                     p.y += p.vy;
                     // Boundary collision (wrap)
                     if (p.x < -p.radius) p.x = canvas.width + p.radius; /* ... etc same ...*/
                     if (p.x > canvas.width + p.radius) p.x = -p.radius;
                     if (p.y < -p.radius) p.y = canvas.height + p.radius;
                     if (p.y > canvas.height + p.radius) p.y = -p.radius;
                     // Draw particle
                     ctx.beginPath(); ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2); ctx.fillStyle = p.color; ctx.fill();
                 });
                 // Connect nearby particles (same logic)
                 /* ... same connection logic ... */
                  ctx.strokeStyle = 'rgba(150, 150, 150, 0.1)'; ctx.lineWidth = 0.5; for (let i = 0; i < particles.length; i++) { for (let j = i + 1; j < particles.length; j++) { const dx = particles[i].x - particles[j].x; const dy = particles[i].y - particles[j].y; const distance = Math.sqrt(dx * dx + dy * dy); const maxDistance = 80; if (distance < maxDistance) { ctx.beginPath(); ctx.moveTo(particles[i].x, particles[i].y); ctx.lineTo(particles[j].x, particles[j].y); ctx.stroke(); } } }

                 animationFrameId = requestAnimationFrame(animateParticles);
             }


            // --- INTERSECTION OBSERVER ---
            let observer = null;
            function initIntersectionObserver() {
                const options = {
                    root: null, // Use the viewport
                    rootMargin: '0px',
                    threshold: 0.1 // Trigger when 10% visible
                };

                observer = new IntersectionObserver((entries, observerRef) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('is-visible');
                             // Optional: Stop observing after animation triggered once
                             // observerRef.unobserve(entry.target);
                        } else {
                             // Optional: Remove class if you want animation on re-scroll
                             // entry.target.classList.remove('is-visible');
                        }
                    });
                }, options);

                // Initial observation
                observeElements(document.querySelectorAll('.animate-on-scroll'));
            }

            function observeElements(elements) {
                 if (!observer || !elements) return;
                 elements.forEach(el => observer.observe(el));
            }


            // --- INITIALIZATION ---
            function init() {
                if(currentYearSpan) currentYearSpan.textContent = new Date().getFullYear();
                loadSavedTheme();
                openDb().catch(e => console.error("Failed to open DB on init:", e)); // Try opening DB early
                handleRouteChange(); // Initial route
                initIntersectionObserver(); // Setup observer

                // Event listeners
                window.addEventListener('hashchange', handleRouteChange);
                if (themeToggleButton) themeToggleButton.addEventListener('click', toggleTheme);
                if (fetchReposButton && githubUsernameInput) { /* ... same listener ... */
                     fetchReposButton.addEventListener('click', () => { const username = githubUsernameInput.value.trim(); if (username) fetchGitHubRepos(username); else projectsGridContainer.innerHTML = '<div class="loading-indicator">Please enter a GitHub username.</div>'; });
                     githubUsernameInput.addEventListener('keypress', (e) => { if (e.key === 'Enter') fetchReposButton.click(); });
                }
                if (clearCacheButton) {
                    clearCacheButton.addEventListener('click', clearRepoCache);
                }
                if (fetchApiButton) fetchApiButton.addEventListener('click', fetchPlaceholderData);
                if (contactForm) contactForm.addEventListener('submit', handleContactFormSubmit);
                if (pulseButton) pulseButton.addEventListener('click', animatePulseButton);
                 // Use debounced resize listener
                window.addEventListener('resize', debouncedResizeCanvas);

                console.log("Advanced Static Showcase Initialized!");
            }

            document.addEventListener('DOMContentLoaded', init);

        })();
    </script>
    <!-- ** JAVASCRIPT END ** -->

    <!--
    =========================================
    PWA Manifest Content (manifest.json) - Updated Example
    =========================================
    Place this content in a file named `manifest.json` in the root directory.

    {
      "name": "Advanced Static Showcase",
      "short_name": "AdvShowcase",
      "description": "A highly complex single-page static website showcasing modern web technologies.",
      "start_url": ".",
      "display": "standalone",
      "orientation": "portrait-primary",
      "background_color": "#1a1a1a",
      "theme_color": "#007bff",
      "scope": "/",
      "icons": [
        { "src": "icon-72.png", "sizes": "72x72", "type": "image/png", "purpose": "any" },
        { "src": "icon-96.png", "sizes": "96x96", "type": "image/png", "purpose": "any" },
        { "src": "icon-128.png", "sizes": "128x128", "type": "image/png", "purpose": "any" },
        { "src": "icon-144.png", "sizes": "144x144", "type": "image/png", "purpose": "any" },
        { "src": "icon-152.png", "sizes": "152x152", "type": "image/png", "purpose": "any" },
        { "src": "icon-192.png", "sizes": "192x192", "type": "image/png", "purpose": "any maskable" },
        { "src": "icon-384.png", "sizes": "384x384", "type": "image/png", "purpose": "any" },
        { "src": "icon-512.png", "sizes": "512x512", "type": "image/png", "purpose": "any maskable" }
      ],
      "screenshots": [ // Optional: Add screenshots of your app
        // {
        //   "src": "screenshot1.png",
        //   "sizes": "1280x720",
        //   "type": "image/png",
        //   "form_factor": "wide"
        // },
        // {
        //   "src": "screenshot2_mobile.png",
        //   "sizes": "540x720",
        //   "type": "image/png",
        //   "form_factor": "narrow"
        // }
      ],
      "categories": ["development", "education", "demo"] // Optional categories
    }

    NOTE: You still need to create all the referenced icon files (e.g., `icon-72.png`, `icon-96.png`, etc.).
    The service worker concept remains the same as previously described and is not embedded.
    -->

</body>
</html>
